# dataset-generator

用 AI 生成数据集，让 AI 训练 AI。


## 数据预处理


### 文件读取

1. txt: 文本格式文件直接读取
2. docx: 按段落读取 word 文档

> [!warning]
> 
> pyhton 不能直接读取 doc 格式，需要在 word 中将 doc 另存为 docx。


### 文件切片

1. 篇章分析：利用自然语言处理的篇章分析工具（discourse parsing），提取段落间的主从关系，并将所有相关段落合并成一段，确保每个文本分块都在表达相同的事情。

2. `BERT`判断段落相似度，`BERT-base-Chinese`模型可以设置相似度阈值，依次判断两个段落的相似度分数是否大于阈值，若大于则合并，否则断开，本质上就是段落分割。


### 切片后处理

1. 篇章分析获取的文本块具有层次依存关系，检索时可以按照上至下的顺序进行，并配合剪枝策略。

2. 对于`BERT`段落相似判断，由于没有依存关系，需要使用`LLM`进行总结和摘要。

3. 当用户的提问中没有包含关键字信息，`RAG`检索不到相关文本时，可以引入追问机制。如：`如果无法从背景知识回答用户的问题，则根据背景知识内容，对用户进行追问，问题限制在3个以内`。或者使用类似“猜你想问”的机制向用户推荐已知的高频QA。

4. 关键词抽取：利用 NLP 技术（句法分析、NER、依存分析、语义角色标注、关键词提取等）抽取关键信息，将其加入到层次检索的顶部。**先检索关键信息，在检索相应的内容**。缺点是如果用户提问的信息未被提前抽取，就无法检索到。
